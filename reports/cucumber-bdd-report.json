[{"line":1,"elements":[{"start_timestamp":"2023-10-26T11:46:09.196Z","before":[{"result":{"duration":146348500,"status":"passed"},"match":{"location":"dev.ziriuz.webflux.demo.steps.StepDefinitions.setup(io.cucumber.java.Scenario)"}}],"line":11,"name":"get customer details happy path","description":"","id":"customer-details-retrieval;get-customer-details-happy-path;;2","type":"scenario","keyword":"Scenario Outline","steps":[{"output":["===================== REQUEST ======================\n{\r\n  \"requestId\" : \"test-request-id-1\",\r\n  \"timestamp\" : 1698320769357,\r\n  \"customerId\" : \"test-customer-id-1\"\r\n}"],"result":{"duration":29030000,"status":"passed"},"line":5,"name":"user provided valid request with \"test-customer-id-1\"","match":{"arguments":[{"val":"\"test-customer-id-1\"","offset":33}],"location":"dev.ziriuz.webflux.demo.steps.StepDefinitions.userProvidedValidRequestWith(java.lang.String)"},"keyword":"Given "},{"output":["get http://localhost:8080/customer"],"result":{"duration":4979730800,"status":"passed"},"line":6,"name":"customer API is called","match":{"location":"dev.ziriuz.webflux.demo.steps.StepDefinitions.customerApiIsCalled()"},"keyword":"When "},{"output":["===================== RESPONSE ======================\n{\n    \"requestId\": \"test-request-id-1\",\n    \"timestamp\": 1698320774342,\n    \"customerId\": \"test-customer-id-1\",\n    \"name\": \"Kozey LLC\",\n    \"encryptedContent\": \"eyJlbWFpbCI6ImplcmFsZC5vc2luc2tpQHlhaG9vLmNvbSIsInRlbGVwaG9uZSI6IjEtMjA4LTgyMS0xMzYyIHgxNzQ3IiwiYWRkcmVzcyI6Ijc0OTk4IEhlc3NlbCBIYXJib3IsIEVsZW5pcG9ydCwgTUEgMTE4MzYtMjc5MSJ9\"\n}"],"result":{"duration":49974800,"status":"passed"},"line":7,"name":"customer details returned to user","match":{"location":"dev.ziriuz.webflux.demo.steps.StepDefinitions.customerDetailsReturnedToUser()"},"keyword":"Then "},{"output":["===================== Contact details decrypted ======================\n{\r\n  \"email\" : \"jerald.osinski@yahoo.com\",\r\n  \"telephone\" : \"1-208-821-1362 x1747\",\r\n  \"address\" : \"74998 Hessel Harbor, Eleniport, MA 11836-2791\"\r\n}"],"result":{"duration":7002100,"status":"passed"},"line":8,"name":"encrypted content contains customer contacts","match":{"location":"dev.ziriuz.webflux.demo.steps.StepDefinitions.encryptedContentContainsCustomerContacts()"},"keyword":"And "}]},{"start_timestamp":"2023-10-26T11:46:14.442Z","before":[{"result":{"status":"passed"},"match":{"location":"dev.ziriuz.webflux.demo.steps.StepDefinitions.setup(io.cucumber.java.Scenario)"}}],"line":12,"name":"get customer details happy path","description":"","id":"customer-details-retrieval;get-customer-details-happy-path;;3","type":"scenario","keyword":"Scenario Outline","steps":[{"output":["===================== REQUEST ======================\n{\r\n  \"requestId\" : \"test-request-id-1\",\r\n  \"timestamp\" : 1698320774443,\r\n  \"customerId\" : \"test-customer-id-2\"\r\n}"],"result":{"status":"passed"},"line":5,"name":"user provided valid request with \"test-customer-id-2\"","match":{"arguments":[{"val":"\"test-customer-id-2\"","offset":33}],"location":"dev.ziriuz.webflux.demo.steps.StepDefinitions.userProvidedValidRequestWith(java.lang.String)"},"keyword":"Given "},{"output":["get http://localhost:8080/customer"],"result":{"duration":3039132700,"status":"passed"},"line":6,"name":"customer API is called","match":{"location":"dev.ziriuz.webflux.demo.steps.StepDefinitions.customerApiIsCalled()"},"keyword":"When "},{"output":["===================== RESPONSE ======================\n{\n    \"requestId\": \"test-request-id-1\",\n    \"timestamp\": 1698320777482,\n    \"customerId\": \"test-customer-id-2\",\n    \"name\": \"Sawayn Inc\",\n    \"encryptedContent\": \"eyJlbWFpbCI6ImNhcm1lbG8ub2xzb25AZ21haWwuY29tIiwidGVsZXBob25lIjoiNDk5LTM2Mi0xNTAxIHgzNzM1IiwiYWRkcmVzcyI6IlN1aXRlIDk3MCAxNDEgQmVybmllciBDb3VydCwgTGFrZSBLaWEsIFROIDc3MzU4In0=\"\n}"],"result":{"duration":3196300,"status":"passed"},"line":7,"name":"customer details returned to user","match":{"location":"dev.ziriuz.webflux.demo.steps.StepDefinitions.customerDetailsReturnedToUser()"},"keyword":"Then "},{"output":["===================== Contact details decrypted ======================\n{\r\n  \"email\" : \"carmelo.olson@gmail.com\",\r\n  \"telephone\" : \"499-362-1501 x3735\",\r\n  \"address\" : \"Suite 970 141 Bernier Court, Lake Kia, TN 77358\"\r\n}"],"result":{"duration":550700,"status":"passed"},"line":8,"name":"encrypted content contains customer contacts","match":{"location":"dev.ziriuz.webflux.demo.steps.StepDefinitions.encryptedContentContainsCustomerContacts()"},"keyword":"And "}]},{"start_timestamp":"2023-10-26T11:46:17.500Z","before":[{"result":{"duration":1006200,"status":"passed"},"match":{"location":"dev.ziriuz.webflux.demo.steps.StepDefinitions.setup(io.cucumber.java.Scenario)"}}],"line":14,"name":"get customer details bad request error","description":"","id":"customer-details-retrieval;get-customer-details-bad-request-error","type":"scenario","keyword":"Scenario","steps":[{"output":["===================== REQUEST ======================\n{\r\n  \"requestId\" : \"test-request-id-1\",\r\n  \"timestamp\" : 1698320777502,\r\n  \"customerId\" : null\r\n}"],"result":{"status":"passed"},"line":15,"name":"user provided request without customerId","match":{"location":"dev.ziriuz.webflux.demo.steps.StepDefinitions.userProvidedRequestWithoutCustomerId()"},"keyword":"Given "},{"output":["get http://localhost:8080/customer"],"result":{"duration":41551700,"status":"passed"},"line":16,"name":"customer API is called","match":{"location":"dev.ziriuz.webflux.demo.steps.StepDefinitions.customerApiIsCalled()"},"keyword":"When "},{"output":["===================== RESPONSE ======================\n{\n    \"errorCode\": \"ERR-INVALID-ATTRIBUTES\",\n    \"description\": \"Validation failed for argument at index 0 in method: public reactor.core.publisher.Mono<dev.ziriuz.webflux.demo.dto.CustomerDetailsResponse> dev.ziriuz.webflux.demo.controller.CustomerDetailsController.getCustomerDetails(reactor.core.publisher.Mono<dev.ziriuz.webflux.demo.dto.CustomerDetailsRequest>), with 1 error(s): [Field error in object 'customerDetailsRequestMono' on field 'customerId': rejected value [null]; codes [NotNull.customerDetailsRequestMono.customerId,NotNull.customerId,NotNull.java.lang.String,NotNull]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [customerDetailsRequestMono.customerId,customerId]; arguments []; default message [customerId]]; default message [must not be null]] \"\n}"],"result":{"duration":2129400,"status":"passed"},"line":17,"name":"error response returned to user","match":{"location":"dev.ziriuz.webflux.demo.steps.StepDefinitions.errorResponseReturnedToUser()"},"keyword":"Then "}]}],"name":"Customer details retrieval","description":"  Retrival of customer details with encrypted content","id":"customer-details-retrieval","keyword":"Feature","uri":"classpath:features/customer-details.feature","tags":[]}]